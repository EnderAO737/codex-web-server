const http=require("http"),fs=require("fs"),zlib=require("zlib");class webserver{constructor(e){this.useCompression=e,this.routes={}}createRoute(e,t,r){this.routes[e]={path:t,contentType:r}}startServer(e){http.createServer(((e,t)=>{const r=this.routes[e.url];r?fs.readFile(r.path,((e,s)=>{this.useCompression?zlib.gzip(s,((e,s)=>{e?(t.writeHead(404),t.end()):(t.writeHead(200,{"Content-Type":r.contentType,"Content-Encoding":"gzip"}),t.write(s),t.end())})):(t.writeHead(200,{"Content-Type":r.contentType}),t.write(s),t.end())})):(t.writeHead(404),t.end())})).listen(e)}}module.exports=webserver;