const http=require("http"),fs=require("fs"),zlib=require("zlib");class webserver{constructor(useCompression){this.useCompression=useCompression,this.routes={}}createRoute(virtualPath,path,contentType){this.routes[virtualPath]={path:path,contentType:contentType}}startServer(port){http.createServer(((req,res)=>{const route=this.routes[req.url];route?fs.readFile(route.path,((err,data)=>{this.useCompression?zlib.gzip(data,((err,data)=>{err?(res.writeHead(404),res.end()):(res.writeHead(200,{"Content-Type":route.contentType,"Content-Encoding":"gzip"}),res.write(data),res.end())})):(res.writeHead(200,{"Content-Type":route.contentType}),res.write(data),res.end())})):(res.writeHead(404),res.end())})).listen(port)}}module.exports=webserver;